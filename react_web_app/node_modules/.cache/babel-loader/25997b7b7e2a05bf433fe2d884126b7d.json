{"ast":null,"code":"'use strict';\n\nvar Buffer = require('safe-buffer').Buffer;\n/* Protocol - protocol constants */\n\n\nvar protocol = module.exports;\n/* Command code => mnemonic */\n\nprotocol.types = {\n  0: 'reserved',\n  1: 'connect',\n  2: 'connack',\n  3: 'publish',\n  4: 'puback',\n  5: 'pubrec',\n  6: 'pubrel',\n  7: 'pubcomp',\n  8: 'subscribe',\n  9: 'suback',\n  10: 'unsubscribe',\n  11: 'unsuback',\n  12: 'pingreq',\n  13: 'pingresp',\n  14: 'disconnect',\n  15: 'reserved'\n};\n/* Mnemonic => Command code */\n\nprotocol.codes = {};\n\nfor (var k in protocol.types) {\n  var v = protocol.types[k];\n  protocol.codes[v] = k;\n}\n/* Header */\n\n\nprotocol.CMD_SHIFT = 4;\nprotocol.CMD_MASK = 0xF0;\nprotocol.DUP_MASK = 0x08;\nprotocol.QOS_MASK = 0x03;\nprotocol.QOS_SHIFT = 1;\nprotocol.RETAIN_MASK = 0x01;\n/* Length */\n\nprotocol.LENGTH_MASK = 0x7F;\nprotocol.LENGTH_FIN_MASK = 0x80;\n/* Connack */\n\nprotocol.SESSIONPRESENT_MASK = 0x01;\nprotocol.SESSIONPRESENT_HEADER = Buffer.from([protocol.SESSIONPRESENT_MASK]);\nprotocol.CONNACK_HEADER = Buffer.from([protocol.codes['connack'] << protocol.CMD_SHIFT]);\n/* Connect */\n\nprotocol.USERNAME_MASK = 0x80;\nprotocol.PASSWORD_MASK = 0x40;\nprotocol.WILL_RETAIN_MASK = 0x20;\nprotocol.WILL_QOS_MASK = 0x18;\nprotocol.WILL_QOS_SHIFT = 3;\nprotocol.WILL_FLAG_MASK = 0x04;\nprotocol.CLEAN_SESSION_MASK = 0x02;\nprotocol.CONNECT_HEADER = Buffer.from([protocol.codes['connect'] << protocol.CMD_SHIFT]);\n\nfunction genHeader(type) {\n  return [0, 1, 2].map(function (qos) {\n    return [0, 1].map(function (dup) {\n      return [0, 1].map(function (retain) {\n        var buf = new Buffer(1);\n        buf.writeUInt8(protocol.codes[type] << protocol.CMD_SHIFT | (dup ? protocol.DUP_MASK : 0) | qos << protocol.QOS_SHIFT | retain, 0, true);\n        return buf;\n      });\n    });\n  });\n}\n/* Publish */\n\n\nprotocol.PUBLISH_HEADER = genHeader('publish');\n/* Subscribe */\n\nprotocol.SUBSCRIBE_HEADER = genHeader('subscribe');\n/* Unsubscribe */\n\nprotocol.UNSUBSCRIBE_HEADER = genHeader('unsubscribe');\n/* Confirmations */\n\nprotocol.ACKS = {\n  unsuback: genHeader('unsuback'),\n  puback: genHeader('puback'),\n  pubcomp: genHeader('pubcomp'),\n  pubrel: genHeader('pubrel'),\n  pubrec: genHeader('pubrec')\n};\nprotocol.SUBACK_HEADER = Buffer.from([protocol.codes['suback'] << protocol.CMD_SHIFT]);\n/* Protocol versions */\n\nprotocol.VERSION3 = Buffer.from([3]);\nprotocol.VERSION4 = Buffer.from([4]);\n/* QoS */\n\nprotocol.QOS = [0, 1, 2].map(function (qos) {\n  return Buffer.from([qos]);\n});\n/* Empty packets */\n\nprotocol.EMPTY = {\n  pingreq: Buffer.from([protocol.codes['pingreq'] << 4, 0]),\n  pingresp: Buffer.from([protocol.codes['pingresp'] << 4, 0]),\n  disconnect: Buffer.from([protocol.codes['disconnect'] << 4, 0])\n};","map":{"version":3,"sources":["/Users/neythen/Desktop/Projects/LED_paint/react_web_app/node_modules/mqtt-react/node_modules/mqtt-packet/constants.js"],"names":["Buffer","require","protocol","module","exports","types","codes","k","v","CMD_SHIFT","CMD_MASK","DUP_MASK","QOS_MASK","QOS_SHIFT","RETAIN_MASK","LENGTH_MASK","LENGTH_FIN_MASK","SESSIONPRESENT_MASK","SESSIONPRESENT_HEADER","from","CONNACK_HEADER","USERNAME_MASK","PASSWORD_MASK","WILL_RETAIN_MASK","WILL_QOS_MASK","WILL_QOS_SHIFT","WILL_FLAG_MASK","CLEAN_SESSION_MASK","CONNECT_HEADER","genHeader","type","map","qos","dup","retain","buf","writeUInt8","PUBLISH_HEADER","SUBSCRIBE_HEADER","UNSUBSCRIBE_HEADER","ACKS","unsuback","puback","pubcomp","pubrel","pubrec","SUBACK_HEADER","VERSION3","VERSION4","QOS","EMPTY","pingreq","pingresp","disconnect"],"mappings":"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","sourcesContent":["'use strict'\n\nvar Buffer = require('safe-buffer').Buffer\n\n/* Protocol - protocol constants */\nvar protocol = module.exports\n\n/* Command code => mnemonic */\nprotocol.types = {\n  0: 'reserved',\n  1: 'connect',\n  2: 'connack',\n  3: 'publish',\n  4: 'puback',\n  5: 'pubrec',\n  6: 'pubrel',\n  7: 'pubcomp',\n  8: 'subscribe',\n  9: 'suback',\n  10: 'unsubscribe',\n  11: 'unsuback',\n  12: 'pingreq',\n  13: 'pingresp',\n  14: 'disconnect',\n  15: 'reserved'\n}\n\n/* Mnemonic => Command code */\nprotocol.codes = {}\nfor (var k in protocol.types) {\n  var v = protocol.types[k]\n  protocol.codes[v] = k\n}\n\n/* Header */\nprotocol.CMD_SHIFT = 4\nprotocol.CMD_MASK = 0xF0\nprotocol.DUP_MASK = 0x08\nprotocol.QOS_MASK = 0x03\nprotocol.QOS_SHIFT = 1\nprotocol.RETAIN_MASK = 0x01\n\n/* Length */\nprotocol.LENGTH_MASK = 0x7F\nprotocol.LENGTH_FIN_MASK = 0x80\n\n/* Connack */\nprotocol.SESSIONPRESENT_MASK = 0x01\nprotocol.SESSIONPRESENT_HEADER = Buffer.from([protocol.SESSIONPRESENT_MASK])\nprotocol.CONNACK_HEADER = Buffer.from([protocol.codes['connack'] << protocol.CMD_SHIFT])\n\n/* Connect */\nprotocol.USERNAME_MASK = 0x80\nprotocol.PASSWORD_MASK = 0x40\nprotocol.WILL_RETAIN_MASK = 0x20\nprotocol.WILL_QOS_MASK = 0x18\nprotocol.WILL_QOS_SHIFT = 3\nprotocol.WILL_FLAG_MASK = 0x04\nprotocol.CLEAN_SESSION_MASK = 0x02\nprotocol.CONNECT_HEADER = Buffer.from([protocol.codes['connect'] << protocol.CMD_SHIFT])\n\nfunction genHeader (type) {\n  return [0, 1, 2].map(function (qos) {\n    return [0, 1].map(function (dup) {\n      return [0, 1].map(function (retain) {\n        var buf = new Buffer(1)\n        buf.writeUInt8(\n          protocol.codes[type] << protocol.CMD_SHIFT |\n          (dup ? protocol.DUP_MASK : 0) |\n          qos << protocol.QOS_SHIFT | retain, 0, true)\n        return buf\n      })\n    })\n  })\n}\n\n/* Publish */\nprotocol.PUBLISH_HEADER = genHeader('publish')\n\n/* Subscribe */\nprotocol.SUBSCRIBE_HEADER = genHeader('subscribe')\n\n/* Unsubscribe */\nprotocol.UNSUBSCRIBE_HEADER = genHeader('unsubscribe')\n\n/* Confirmations */\nprotocol.ACKS = {\n  unsuback: genHeader('unsuback'),\n  puback: genHeader('puback'),\n  pubcomp: genHeader('pubcomp'),\n  pubrel: genHeader('pubrel'),\n  pubrec: genHeader('pubrec')\n}\n\nprotocol.SUBACK_HEADER = Buffer.from([protocol.codes['suback'] << protocol.CMD_SHIFT])\n\n/* Protocol versions */\nprotocol.VERSION3 = Buffer.from([3])\nprotocol.VERSION4 = Buffer.from([4])\n\n/* QoS */\nprotocol.QOS = [0, 1, 2].map(function (qos) {\n  return Buffer.from([qos])\n})\n\n/* Empty packets */\nprotocol.EMPTY = {\n  pingreq: Buffer.from([protocol.codes['pingreq'] << 4, 0]),\n  pingresp: Buffer.from([protocol.codes['pingresp'] << 4, 0]),\n  disconnect: Buffer.from([protocol.codes['disconnect'] << 4, 0])\n}\n"]},"metadata":{},"sourceType":"script"}